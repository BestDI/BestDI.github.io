<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mia&#39;s Home</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-12-28T15:29:42.671Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Mia</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Java Json转Map/List</title>
    <link href="http://yoursite.com/2017/12/28/Java-Json%E8%BD%ACMap-List/"/>
    <id>http://yoursite.com/2017/12/28/Java-Json转Map-List/</id>
    <published>2017-12-28T15:08:41.000Z</published>
    <updated>2017-12-28T15:29:42.671Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Java-Json转Map-List"><a href="#Java-Json转Map-List" class="headerlink" title="Java Json转Map/List"></a>Java Json转Map/List</h3><hr><h4 id="Json格式"><a href="#Json格式" class="headerlink" title="Json格式"></a>Json格式</h4><blockquote><p>将格式如下的Json，转化成Map<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">“key1<span class="string">":"</span>value1<span class="string">",</span></span><br><span class="line"><span class="string">“key2"</span>:<span class="string">"value2"</span>,</span><br><span class="line">“key3<span class="string">":"</span>value3<span class="string">"</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></p><p>将格式如下的Json，转化成List</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="string">"key"</span>:&#123;<span class="string">"key01"</span>:<span class="string">"value01"</span>,<span class="string">"key02"</span>:<span class="string">"value02"</span>,<span class="string">"key03"</span>:<span class="string">"value03"</span>&#125;,</span><br><span class="line"><span class="string">"key1"</span>:&#123;<span class="string">"key01"</span>:<span class="string">"value01"</span>,<span class="string">"key02"</span>:<span class="string">"value02"</span>,<span class="string">"key03"</span>:<span class="string">"value03"</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><a id="more"></a> <hr><h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><blockquote><p>直接撸代码如下：</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Json转Map</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> jsonStr</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String, Object&gt; <span class="title">getMapFromJSON</span><span class="params">(String jsonStr)</span> </span>&#123;</span><br><span class="line">    JSONObject jo;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        jo = <span class="keyword">new</span> JSONObject(jsonStr);</span><br><span class="line">        Iterator&lt;String&gt; iterator = jo.keys();</span><br><span class="line">        String key;</span><br><span class="line">        Object value;</span><br><span class="line">        HashMap&lt;String, Object&gt; hashMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            key = iterator.next();</span><br><span class="line">            value = jo.get(key);</span><br><span class="line">            hashMap.put(key, value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hashMap;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (JSONException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Json转换成List&lt;Map&lt;&gt;&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> jsonStr</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Map&lt;String, Object&gt;&gt; getListFromJSON(String jsonStr) &#123;</span><br><span class="line">    List&lt;Map&lt;String, Object&gt;&gt; list = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        JSONArray jsonArray = <span class="keyword">new</span> JSONArray(jsonStr);</span><br><span class="line">        JSONObject jsonObject;</span><br><span class="line">        list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> length = jsonArray.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            jsonObject = (JSONObject) jsonArray.get(i);</span><br><span class="line">            list.add(getMapFromJSON(jsonObject.toString()));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (JSONException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Java-Json转Map-List&quot;&gt;&lt;a href=&quot;#Java-Json转Map-List&quot; class=&quot;headerlink&quot; title=&quot;Java Json转Map/List&quot;&gt;&lt;/a&gt;Java Json转Map/List&lt;/h3&gt;&lt;hr&gt;
&lt;h4 id=&quot;Json格式&quot;&gt;&lt;a href=&quot;#Json格式&quot; class=&quot;headerlink&quot; title=&quot;Json格式&quot;&gt;&lt;/a&gt;Json格式&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;将格式如下的Json，转化成Map&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;“key1&lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt;value1&lt;span class=&quot;string&quot;&gt;&quot;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;“key2&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;value2&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;“key3&lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt;value3&lt;span class=&quot;string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;将格式如下的Json，转化成List&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;key&quot;&lt;/span&gt;:&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;key01&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;value01&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;key02&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;value02&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;key03&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;value03&quot;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;key1&quot;&lt;/span&gt;:&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;key01&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;value01&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;key02&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;value02&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;key03&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;value03&quot;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Java" scheme="http://yoursite.com/categories/Java/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Android反编译APK</title>
    <link href="http://yoursite.com/2017/12/25/Android%E5%8F%8D%E7%BC%96%E8%AF%91APK%E5%8F%8AADB%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2017/12/25/Android反编译APK及ADB命令/</id>
    <published>2017-12-25T14:23:59.000Z</published>
    <updated>2017-12-28T15:04:25.567Z</updated>
    
    <content type="html"><![CDATA[<p><strong>反编译可以理解为逆向工程（Reverse Engineering）</strong><br>通过反编译APK，可以更好的理解APK打包过程，可以验证特性和动态替换资源。使用工具<a href="https://github.com/google/android-classyshark" target="_blank" rel="noopener">ClassyShark</a></p><h2 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h2><h3 id="APK-Application-Package"><a href="#APK-Application-Package" class="headerlink" title="APK(Application Package)"></a>APK(Application Package)</h3><p><strong>APK实质上为压缩包，可以直接解压，解压后可以获得的信息</strong></p><blockquote><ul><li>AndroidManifest.xml：清单文件</li><li>classes.dex：Dex格式编译文件，classes压缩包</li><li>res：不需要编译的文件，一般都是系统资源文件</li><li>assets：AssetManager</li><li>META-INF：Jar包元数据，也包含应用签名</li></ul></blockquote><a id="more"></a> <p><strong>安装应用</strong></p><blockquote><p>adb install -r *.apk<br>-r 表示强制安装，覆盖当前版本</p></blockquote><p><strong>查看手机中的所有应用信息</strong></p><blockquote><p>adb shell pm list packages -f</p></blockquote><p><strong>导出手机中的apk(root 手机)</strong></p><blockquote><p>adb pull -p /data/app/me.chunyu.Pedometer-1/base.apk base.apk</p></blockquote><h3 id="AAPT-Android-Assets-Packaging-Tool"><a href="#AAPT-Android-Assets-Packaging-Tool" class="headerlink" title="AAPT(Android Assets Packaging Tool)"></a>AAPT(Android Assets Packaging Tool)</h3><p><strong>Android 打包工具</strong></p><blockquote><p>在Android sdk的build-tools文件夹中</p></blockquote><p><strong>获取apk信息</strong></p><blockquote><ul><li>aapt list base.apk // 内容</li><li>aapt dump badging base.apk // 属性</li><li>aapt dump permissions base.apk // 权限</li><li>aapt dump resources base.apk // 资源</li></ul></blockquote><p><strong>获取二进制xml信息</strong></p><blockquote><p>aapt dump xmltree base.apk AndroidManifest.xml</p></blockquote><h2 id="反编译"><a href="#反编译" class="headerlink" title="反编译"></a>反编译</h2><h3 id="dex2jar"><a href="#dex2jar" class="headerlink" title="dex2jar"></a>dex2jar</h3><p><strong><a href="https://github.com/pxb1988/dex2jar" target="_blank" rel="noopener">dex2jar</a>是dex转换jar的工具，还需要使用Java包解析工具<a href="http://jd.benow.ca/" target="_blank" rel="noopener">JD-GUI</a></strong></p><blockquote><p>使用步骤：</p><ol><li>apk解压后，可以获得classes.dex(有可能不止一个)</li><li>使用命令<strong>d2j-dex2jar classes.dex</strong>进行格式转换，得到<strong>classes-dex2jar.jar</strong></li><li>得到的jar可以使用<strong>JD-GUI</strong>查看</li></ol></blockquote><h3 id="apktool"><a href="#apktool" class="headerlink" title="apktool"></a>apktool</h3><p><strong>进行资源的反编译，<a href="https://ibotpeaches.github.io/Apktool/install/" target="_blank" rel="noopener">ApkTool Download Page</a></strong></p><blockquote><p>使用步骤：</p><ol><li>apktool d base.apk</li><li>执行完成后，就会生成包含资源文件的test文件夹：<br>|.<br>| original<br>| res<br>| smali<br>| AndroidManifest.xml<br>| apktool.yml</li></ol></blockquote><h2 id="重打包"><a href="#重打包" class="headerlink" title="重打包"></a>重打包</h2><p><strong>1. 既然已经顺利进行了反编译，修改之后，可以使用命令进行重新打包</strong></p><blockquote><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apktool b test -o new_test.apk</span><br><span class="line">// 执行完成之后，会生成一个new_test.apk</span><br></pre></td></tr></table></figure></blockquote><p><strong>2. 重新打包之后的apk需要重新签名</strong></p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore 签名文件名 -storepass 签名密码 待签名的APK文件名 签名的别名</span><br><span class="line">// 其中jarsigner命令文件是存放在jdk的bin目录下的，需要将bin目录配置在系统的环境变量中才可以在任何位置执行此命令</span><br></pre></td></tr></table></figure></blockquote><p><strong>3. 签名完成之后，需要对APK进行一次对齐操作</strong></p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zipalign 4 new_test.apk new_test_aligned.apk</span><br><span class="line">// 对齐操作使用的是zipalign工具，该工具在&lt;Android SDK&gt;/build-tools/&lt;version&gt;目录下</span><br></pre></td></tr></table></figure></blockquote><p><strong>4. 验证apk签名是否成功</strong></p><blockquote><p><code>jarsigner -verify -verbose -certs new_test_aligned.apk</code></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;反编译可以理解为逆向工程（Reverse Engineering）&lt;/strong&gt;&lt;br&gt;通过反编译APK，可以更好的理解APK打包过程，可以验证特性和动态替换资源。使用工具&lt;a href=&quot;https://github.com/google/android-classyshark&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ClassyShark&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Base&quot;&gt;&lt;a href=&quot;#Base&quot; class=&quot;headerlink&quot; title=&quot;Base&quot;&gt;&lt;/a&gt;Base&lt;/h2&gt;&lt;h3 id=&quot;APK-Application-Package&quot;&gt;&lt;a href=&quot;#APK-Application-Package&quot; class=&quot;headerlink&quot; title=&quot;APK(Application Package)&quot;&gt;&lt;/a&gt;APK(Application Package)&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;APK实质上为压缩包，可以直接解压，解压后可以获得的信息&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;AndroidManifest.xml：清单文件&lt;/li&gt;
&lt;li&gt;classes.dex：Dex格式编译文件，classes压缩包&lt;/li&gt;
&lt;li&gt;res：不需要编译的文件，一般都是系统资源文件&lt;/li&gt;
&lt;li&gt;assets：AssetManager&lt;/li&gt;
&lt;li&gt;META-INF：Jar包元数据，也包含应用签名&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Android" scheme="http://yoursite.com/categories/Android/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>HEXO切换电脑重新部署</title>
    <link href="http://yoursite.com/2017/12/19/HEXO%E5%88%87%E6%8D%A2%E7%94%B5%E8%84%91%E9%87%8D%E6%96%B0%E9%83%A8%E7%BD%B2/"/>
    <id>http://yoursite.com/2017/12/19/HEXO切换电脑重新部署/</id>
    <published>2017-12-19T15:33:26.000Z</published>
    <updated>2017-12-19T16:02:52.780Z</updated>
    
    <content type="html"><![CDATA[<h3 id="文件夹拷贝"><a href="#文件夹拷贝" class="headerlink" title="文件夹拷贝"></a>文件夹拷贝</h3><blockquote><p>将原来的文件拷贝到新电脑中，但是要注意哪些文件是必须的，哪些文件是可以删除的。</p><ol><li>讨论下哪些文件是必须拷贝的：首先是之前自己修改的文件，像站点配置<strong>_config.yml</strong>，<strong>theme</strong>文件夹里面的主题，以及<strong>source</strong>里面自己写的博客文件，这些肯定要拷贝的。除此之外，还有三个文件需要有，就是<strong>scaffolds</strong>文件夹（文章的模板）、<strong>package.json</strong>（说明使用哪些包）和<strong>.gitignore</strong>（限定在提交的时候哪些文件可以忽略）。其实，这三个文件不是我们修改的，所以即使丢失了，也没有关系，我们可以建立一个新的文件夹，然后在里面执行hexo init，就会生成这三个文件，我们只需要将它们拷贝过来使用即可。<br><strong>总结</strong>:<strong>_config.yml</strong>，<strong>theme/</strong>，<strong>source/</strong>，<strong>scaffolds/</strong>，<strong>package.json</strong>，<strong>.gitignore</strong>，是需要拷贝的。</li><li>再讨论下哪些文件是不必拷贝的，或者说可以删除的：首先是<strong>.git</strong>文件，无论是在站点根目录下，还是主题目录下的<strong>.git</strong>文件，都可以删掉。然后是文件夹<strong>node_modules</strong>（在用<strong>npm install</strong>会重新生成），<strong>public</strong>（这个在用<strong>hexo g</strong>时会重新生成），<strong>.deploy_git</strong>文件夹（在使用hexo d时也会重新生成），<strong>db.json</strong>文件。其实上面这些文件也就是是<strong>.gitignore</strong>文件里面记载的可以忽略的内容。<br><strong>总结</strong>：<strong>.git/</strong>，<strong>node_modules/</strong>，<strong>public/</strong>，<strong>.deploy_git/</strong>，<strong>db.json</strong>文件需要删除。</li></ol></blockquote><a id="more"></a> <h3 id="模块安装"><a href="#模块安装" class="headerlink" title="模块安装"></a>模块安装</h3><blockquote><p>在新拷贝的文件夹里，右键选择<strong>git bash</strong>，使用<strong>npm install</strong>命令，进行模块安装。<br><em>这里不要使用<strong>hexo init</strong>初始化</em>，因为有的文件我们已经拷贝生成过来了，所以不必用hexo init去整体初始化，如果不慎在此时用了hexo init，则站点的配置文件_config.yml里面内容会被清空使用默认值，所以这一步一定要慎重，不要用hexo init。</p></blockquote><h3 id="安装一些必要组件"><a href="#安装一些必要组件" class="headerlink" title="安装一些必要组件"></a>安装一些必要组件</h3><blockquote><ol><li>为了使用hexo d来部署到git上，需要安装:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><ol><li>为了建立RSS订阅，需要安装:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><ol><li>为了建立站点地图，需要安装:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><ul><li>至此环境在环境已经具备的情况下，使用指令部署到Github:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;文件夹拷贝&quot;&gt;&lt;a href=&quot;#文件夹拷贝&quot; class=&quot;headerlink&quot; title=&quot;文件夹拷贝&quot;&gt;&lt;/a&gt;文件夹拷贝&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;将原来的文件拷贝到新电脑中，但是要注意哪些文件是必须的，哪些文件是可以删除的。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;讨论下哪些文件是必须拷贝的：首先是之前自己修改的文件，像站点配置&lt;strong&gt;_config.yml&lt;/strong&gt;，&lt;strong&gt;theme&lt;/strong&gt;文件夹里面的主题，以及&lt;strong&gt;source&lt;/strong&gt;里面自己写的博客文件，这些肯定要拷贝的。除此之外，还有三个文件需要有，就是&lt;strong&gt;scaffolds&lt;/strong&gt;文件夹（文章的模板）、&lt;strong&gt;package.json&lt;/strong&gt;（说明使用哪些包）和&lt;strong&gt;.gitignore&lt;/strong&gt;（限定在提交的时候哪些文件可以忽略）。其实，这三个文件不是我们修改的，所以即使丢失了，也没有关系，我们可以建立一个新的文件夹，然后在里面执行hexo init，就会生成这三个文件，我们只需要将它们拷贝过来使用即可。&lt;br&gt;&lt;strong&gt;总结&lt;/strong&gt;:&lt;strong&gt;_config.yml&lt;/strong&gt;，&lt;strong&gt;theme/&lt;/strong&gt;，&lt;strong&gt;source/&lt;/strong&gt;，&lt;strong&gt;scaffolds/&lt;/strong&gt;，&lt;strong&gt;package.json&lt;/strong&gt;，&lt;strong&gt;.gitignore&lt;/strong&gt;，是需要拷贝的。&lt;/li&gt;
&lt;li&gt;再讨论下哪些文件是不必拷贝的，或者说可以删除的：首先是&lt;strong&gt;.git&lt;/strong&gt;文件，无论是在站点根目录下，还是主题目录下的&lt;strong&gt;.git&lt;/strong&gt;文件，都可以删掉。然后是文件夹&lt;strong&gt;node_modules&lt;/strong&gt;（在用&lt;strong&gt;npm install&lt;/strong&gt;会重新生成），&lt;strong&gt;public&lt;/strong&gt;（这个在用&lt;strong&gt;hexo g&lt;/strong&gt;时会重新生成），&lt;strong&gt;.deploy_git&lt;/strong&gt;文件夹（在使用hexo d时也会重新生成），&lt;strong&gt;db.json&lt;/strong&gt;文件。其实上面这些文件也就是是&lt;strong&gt;.gitignore&lt;/strong&gt;文件里面记载的可以忽略的内容。&lt;br&gt;&lt;strong&gt;总结&lt;/strong&gt;：&lt;strong&gt;.git/&lt;/strong&gt;，&lt;strong&gt;node_modules/&lt;/strong&gt;，&lt;strong&gt;public/&lt;/strong&gt;，&lt;strong&gt;.deploy_git/&lt;/strong&gt;，&lt;strong&gt;db.json&lt;/strong&gt;文件需要删除。&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Setup" scheme="http://yoursite.com/categories/Setup/"/>
    
    
      <category term="Setup" scheme="http://yoursite.com/tags/Setup/"/>
    
  </entry>
  
  <entry>
    <title>Android 截屏方式总结</title>
    <link href="http://yoursite.com/2017/12/18/Android-%E6%88%AA%E5%B1%8F%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2017/12/18/Android-截屏方式总结/</id>
    <published>2017-12-18T12:18:19.000Z</published>
    <updated>2017-12-18T12:22:42.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一-Android如何禁止Application截屏？"><a href="#一-Android如何禁止Application截屏？" class="headerlink" title="一. Android如何禁止Application截屏？"></a>一. Android如何禁止Application截屏？</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getWindow().setFlags(LayoutParams.FLAG_SECURE, LayoutParams.FLAG_SECURE);</span><br></pre></td></tr></table></figure><blockquote><p>如果一遍不行，那就来两遍。<a href="https://stackoverflow.com/questions/28606689/how-to-prevent-screen-capture-in-android" target="_blank" rel="noopener">FLAG_SECURE.StackOverflow</a></p></blockquote><a id="more"></a> <h2 id="二-如何监听截屏"><a href="#二-如何监听截屏" class="headerlink" title="二. 如何监听截屏"></a>二. 如何监听截屏</h2><blockquote><p>使用ContentObserver进行相册的监听,<a href="https://stackoverflow.com/questions/31360296/listen-for-screenshot-action-in-android" target="_blank" rel="noopener">原链</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 定义 */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">ScreenShotContentObserver</span> <span class="keyword">extends</span> <span class="title">ContentObserver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Context context;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isFromEdit = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">private</span> String previousPath;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ScreenShotContentObserver</span><span class="params">(Handler handler, Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(handler);</span><br><span class="line">        <span class="keyword">this</span>.context = context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">deliverSelfNotifications</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.deliverSelfNotifications();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onChange</span><span class="params">(<span class="keyword">boolean</span> selfChange)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onChange(selfChange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onChange</span><span class="params">(<span class="keyword">boolean</span> selfChange, Uri uri)</span> </span>&#123;</span><br><span class="line">        Cursor cursor = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cursor = context.getContentResolver().query(uri, <span class="keyword">new</span> String[]&#123;</span><br><span class="line">                    MediaStore.Images.Media.DISPLAY_NAME,</span><br><span class="line">                    MediaStore.Images.Media.DATA</span><br><span class="line">            &#125;, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">            <span class="keyword">if</span> (cursor != <span class="keyword">null</span> &amp;&amp; cursor.moveToLast()) &#123;</span><br><span class="line">                <span class="keyword">int</span> displayNameColumnIndex = cursor.getColumnIndex(MediaStore.Images.Media.DISPLAY_NAME);</span><br><span class="line">                <span class="keyword">int</span> dataColumnIndex = cursor.getColumnIndex(MediaStore.Images.Media.DATA);</span><br><span class="line">                String fileName = cursor.getString(displayNameColumnIndex);</span><br><span class="line">                String path = cursor.getString(dataColumnIndex);</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">new</span> File(path).lastModified() &gt;= System.currentTimeMillis() - <span class="number">10000</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (isScreenshot(path) &amp;&amp; !isFromEdit &amp;&amp; !(previousPath != <span class="keyword">null</span> &amp;&amp; previousPath.equals(path))) &#123;</span><br><span class="line">                        onScreenShot(path, fileName);</span><br><span class="line">                    &#125;</span><br><span class="line">                    previousPath = path;</span><br><span class="line">                    isFromEdit = <span class="keyword">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cursor.close();</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable t) &#123;</span><br><span class="line">            isFromEdit = <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (cursor != <span class="keyword">null</span>) &#123;</span><br><span class="line">                cursor.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">super</span>.onChange(selfChange, uri);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isScreenshot</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> path != <span class="keyword">null</span> &amp;&amp; path.toLowerCase().contains(<span class="string">"screenshot"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">onScreenShot</span><span class="params">(String path, String fileName)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 使用 */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ScreenShotContentObserver screenShotContentObserver;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        screenShotContentObserver = <span class="keyword">new</span> ScreenShotContentObserver(handler, <span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onScreenShot</span><span class="params">(String path, String fileName)</span> </span>&#123;</span><br><span class="line">                File file = <span class="keyword">new</span> File(path); <span class="comment">//this is the file of screenshot image</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onResume();</span><br><span class="line">        getContentResolver().registerContentObserver(</span><br><span class="line">            MediaStore.Images.Media.EXTERNAL_CONTENT_URI,</span><br><span class="line">                <span class="keyword">true</span>,</span><br><span class="line">                screenShotContentObserver</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onPause();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            getContentResolver().unregisterContentObserver(screenShotContentObserver);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            getContentResolver().unregisterContentObserver(screenShotContentObserver);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="三-如何截屏"><a href="#三-如何截屏" class="headerlink" title="三. 如何截屏"></a>三. 如何截屏</h2><h3 id="常见截屏方式"><a href="#常见截屏方式" class="headerlink" title="常见截屏方式"></a>常见截屏方式</h3><blockquote><p>1.获取当前Window的DrawingCache的方式，即DecorView的DrawingCache</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * shot the current screen ,with the status but the status is trans *</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> ctx current activity</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bitmap <span class="title">shotActivity</span><span class="params">(Activity ctx)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    View view = ctx.getWindow().getDecorView();</span><br><span class="line">    view.setDrawingCacheEnabled(<span class="keyword">true</span>);</span><br><span class="line">    view.buildDrawingCache();</span><br><span class="line"></span><br><span class="line">    Bitmap bp = Bitmap.createBitmap(view.getDrawingCache(), <span class="number">0</span>, <span class="number">0</span>, view.getMeasuredWidth(),</span><br><span class="line">        view.getMeasuredHeight());</span><br><span class="line"></span><br><span class="line">    view.setDrawingCacheEnabled(<span class="keyword">false</span>);</span><br><span class="line">    view.destroyDrawingCache();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bp;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><blockquote><ol><li>获取某个View的DrawingCache</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bitmap <span class="title">getViewBp</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == v) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        v.setDrawingCacheEnabled(<span class="keyword">true</span>);</span><br><span class="line">        v.buildDrawingCache();</span><br><span class="line">        <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= <span class="number">11</span>) &#123;</span><br><span class="line">            v.measure(MeasureSpec.makeMeasureSpec(v.getWidth(),</span><br><span class="line">                    MeasureSpec.EXACTLY), MeasureSpec.makeMeasureSpec(</span><br><span class="line">                    v.getHeight(), MeasureSpec.EXACTLY));</span><br><span class="line">            v.layout((<span class="keyword">int</span>) v.getX(), (<span class="keyword">int</span>) v.getY(),</span><br><span class="line">                    (<span class="keyword">int</span>) v.getX() + v.getMeasuredWidth(),</span><br><span class="line">                    (<span class="keyword">int</span>) v.getY() + v.getMeasuredHeight());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            v.measure(MeasureSpec.makeMeasureSpec(<span class="number">0</span>, MeasureSpec.UNSPECIFIED),</span><br><span class="line">                    MeasureSpec.makeMeasureSpec(<span class="number">0</span>, MeasureSpec.UNSPECIFIED));</span><br><span class="line">            v.layout(<span class="number">0</span>, <span class="number">0</span>, v.getMeasuredWidth(), v.getMeasuredHeight());</span><br><span class="line">        &#125;</span><br><span class="line">        Bitmap b = Bitmap.createBitmap(v.getDrawingCache(), <span class="number">0</span>, <span class="number">0</span>, v.getMeasuredWidth(), v.getMeasuredHeight());</span><br><span class="line"></span><br><span class="line">        v.setDrawingCacheEnabled(<span class="keyword">false</span>);</span><br><span class="line">        v.destroyDrawingCache();</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="使用三方Library"><a href="#使用三方Library" class="headerlink" title="使用三方Library"></a>使用三方Library</h3><blockquote><p><a href="https://github.com/tarek360/Instacapture" target="_blank" rel="noopener">tarek360.Instacapture</a>,使用Kotlin/Java实现的一个三方库，可以针对常见的View和一般视图实现快速截图。可以截图的包括：</p><ol><li>Google Map</li><li>Dialog,context menus,toasts</li><li>TextureView</li><li>GLSurfaceView</li></ol><p>并且可以设置非截图View，无权限要求。</p></blockquote><h3 id="ScrollView截屏"><a href="#ScrollView截屏" class="headerlink" title="ScrollView截屏"></a>ScrollView截屏</h3><blockquote><p>由于ScrollView只有一个直接子View，可以按照如下方式获取，<a href="https://stackoverflow.com/questions/43817116/take-a-full-screenshot-of-scrollview-android" target="_blank" rel="noopener">原链</a>:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Bitmap bitmap = getBitmapFromView(scrollview, scrollview.getChildAt(<span class="number">0</span>).getHeight(), scrollview.getChildAt(<span class="number">0</span>).getWidth());</span><br><span class="line"></span><br><span class="line"><span class="comment">//create bitmap from the ScrollView </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> Bitmap <span class="title">getBitmapFromView</span><span class="params">(View view, <span class="keyword">int</span> height, <span class="keyword">int</span> width)</span> </span>&#123;</span><br><span class="line">    Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);</span><br><span class="line">    Canvas canvas = <span class="keyword">new</span> Canvas(bitmap);</span><br><span class="line">    Drawable bgDrawable = view.getBackground();</span><br><span class="line">    <span class="keyword">if</span> (bgDrawable != <span class="keyword">null</span>)</span><br><span class="line">        bgDrawable.draw(canvas);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        canvas.drawColor(Color.WHITE);</span><br><span class="line">    view.draw(canvas);</span><br><span class="line">    <span class="keyword">return</span> bitmap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h3><blockquote><p>ListView中存在的问题，条目过多，有很多未可见<a href="http://stackoverflow.com/questions/12742343/android-get-screenshot-of-all-listview-items" target="_blank" rel="noopener">原链</a>。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bitmap <span class="title">getWholeListViewItemsToBitmap</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    ListView listview    = MyActivity.mFocusedListView;</span><br><span class="line">    ListAdapter adapter  = listview.getAdapter(); </span><br><span class="line">    <span class="keyword">int</span> itemscount       = adapter.getCount();</span><br><span class="line">    <span class="keyword">int</span> allitemsheight   = <span class="number">0</span>;</span><br><span class="line">    List&lt;Bitmap&gt; bmps    = <span class="keyword">new</span> ArrayList&lt;Bitmap&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; itemscount; i++) &#123;</span><br><span class="line"></span><br><span class="line">        View childView      = adapter.getView(i, <span class="keyword">null</span>, listview);</span><br><span class="line">        childView.measure(MeasureSpec.makeMeasureSpec(listview.getWidth(), MeasureSpec.EXACTLY), </span><br><span class="line">                MeasureSpec.makeMeasureSpec(<span class="number">0</span>, MeasureSpec.UNSPECIFIED));</span><br><span class="line"></span><br><span class="line">        childView.layout(<span class="number">0</span>, <span class="number">0</span>, childView.getMeasuredWidth(), childView.getMeasuredHeight());</span><br><span class="line">        childView.setDrawingCacheEnabled(<span class="keyword">true</span>);</span><br><span class="line">        childView.buildDrawingCache();</span><br><span class="line">        bmps.add(childView.getDrawingCache());</span><br><span class="line">        allitemsheight+=childView.getMeasuredHeight();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Bitmap bigbitmap    = Bitmap.createBitmap(listview.getMeasuredWidth(), allitemsheight, Bitmap.Config.ARGB_8888);</span><br><span class="line">    Canvas bigcanvas    = <span class="keyword">new</span> Canvas(bigbitmap);</span><br><span class="line"></span><br><span class="line">    Paint paint = <span class="keyword">new</span> Paint();</span><br><span class="line">    <span class="keyword">int</span> iHeight = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; bmps.size(); i++) &#123;</span><br><span class="line">        Bitmap bmp = bmps.get(i);</span><br><span class="line">        bigcanvas.drawBitmap(bmp, <span class="number">0</span>, iHeight, paint);</span><br><span class="line">        iHeight+=bmp.getHeight();</span><br><span class="line"></span><br><span class="line">        bmp.recycle();</span><br><span class="line">        bmp=<span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bigbitmap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RecyclerView"><a href="#RecyclerView" class="headerlink" title="RecyclerView"></a>RecyclerView</h3><blockquote><p>ListView的替代品RecyclerView,<a href="https://stackoverflow.com/questions/30085063/take-a-screenshot-of-recyclerview-in-full-length" target="_blank" rel="noopener">原链</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Bitmap <span class="title">getScreenshotFromRecyclerView</span><span class="params">(RecyclerView view)</span> </span>&#123;</span><br><span class="line">        RecyclerView.Adapter adapter = view.getAdapter();</span><br><span class="line">        Bitmap bigBitmap = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (adapter != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = adapter.getItemCount();</span><br><span class="line">            <span class="keyword">int</span> height = <span class="number">0</span>;</span><br><span class="line">            Paint paint = <span class="keyword">new</span> Paint();</span><br><span class="line">            <span class="keyword">int</span> iHeight = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">int</span> maxMemory = (<span class="keyword">int</span>) (Runtime.getRuntime().maxMemory() / <span class="number">1024</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Use 1/8th of the available memory for this memory cache.</span></span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">int</span> cacheSize = maxMemory / <span class="number">8</span>;</span><br><span class="line">            LruCache&lt;String, Bitmap&gt; bitmaCache = <span class="keyword">new</span> LruCache&lt;&gt;(cacheSize);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                RecyclerView.ViewHolder holder = adapter.createViewHolder(view, adapter.getItemViewType(i));</span><br><span class="line">                adapter.onBindViewHolder(holder, i);</span><br><span class="line">                holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),</span><br><span class="line">                        View.MeasureSpec.makeMeasureSpec(<span class="number">0</span>, View.MeasureSpec.UNSPECIFIED));</span><br><span class="line">                holder.itemView.layout(<span class="number">0</span>, <span class="number">0</span>, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());</span><br><span class="line">                holder.itemView.setDrawingCacheEnabled(<span class="keyword">true</span>);</span><br><span class="line">                holder.itemView.buildDrawingCache();</span><br><span class="line">                Bitmap drawingCache = holder.itemView.getDrawingCache();</span><br><span class="line">                <span class="keyword">if</span> (drawingCache != <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">                    bitmaCache.put(String.valueOf(i), drawingCache);</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//                holder.itemView.setDrawingCacheEnabled(false);</span></span><br><span class="line"><span class="comment">//                holder.itemView.destroyDrawingCache();</span></span><br><span class="line">                height += holder.itemView.getMeasuredHeight();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), height, Bitmap.Config.ARGB_8888);</span><br><span class="line">            Canvas bigCanvas = <span class="keyword">new</span> Canvas(bigBitmap);</span><br><span class="line">            bigCanvas.drawColor(Color.WHITE);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                Bitmap bitmap = bitmaCache.get(String.valueOf(i));</span><br><span class="line">                bigCanvas.drawBitmap(bitmap, <span class="number">0f</span>, iHeight, paint);</span><br><span class="line">                iHeight += bitmap.getHeight();</span><br><span class="line">                bitmap.recycle();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> bigBitmap;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="WebView"><a href="#WebView" class="headerlink" title="WebView"></a>WebView</h3><blockquote><p><a href="https://stackoverflow.com/questions/9745988/how-can-i-programmatically-take-a-screenshot-of-a-webview-capturing-the-full-pa" target="_blank" rel="noopener">原链</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">w = <span class="keyword">new</span> WebView(<span class="keyword">this</span>);</span><br><span class="line">    w.setWebViewClient(<span class="keyword">new</span> WebViewClient()</span><br><span class="line">    &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPageFinished</span><span class="params">(WebView view, String url)</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">                    Picture picture = view.capturePicture();</span><br><span class="line">                    Bitmap  b = Bitmap.createBitmap( picture.getWidth(),</span><br><span class="line">                    picture.getHeight(), Bitmap.Config.ARGB_8888);</span><br><span class="line">                    Canvas c = <span class="keyword">new</span> Canvas( b );</span><br><span class="line"></span><br><span class="line">                    picture.draw( c );</span><br><span class="line">                    FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">                        fos = <span class="keyword">new</span> FileOutputStream( <span class="string">"mnt/sdcard/yahoo.jpg"</span> );</span><br><span class="line">                            <span class="keyword">if</span> ( fos != <span class="keyword">null</span> )</span><br><span class="line">                            &#123;</span><br><span class="line">                                b.compress(Bitmap.CompressFormat.JPEG, <span class="number">100</span>, fos);</span><br><span class="line"></span><br><span class="line">                                fos.close();</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                   <span class="keyword">catch</span>( Exception e )</span><br><span class="line">                   &#123;</span><br><span class="line"></span><br><span class="line">                   &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一-Android如何禁止Application截屏？&quot;&gt;&lt;a href=&quot;#一-Android如何禁止Application截屏？&quot; class=&quot;headerlink&quot; title=&quot;一. Android如何禁止Application截屏？&quot;&gt;&lt;/a&gt;一. Android如何禁止Application截屏？&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;getWindow().setFlags(LayoutParams.FLAG_SECURE, LayoutParams.FLAG_SECURE);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;如果一遍不行，那就来两遍。&lt;a href=&quot;https://stackoverflow.com/questions/28606689/how-to-prevent-screen-capture-in-android&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;FLAG_SECURE.StackOverflow&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Android" scheme="http://yoursite.com/categories/Android/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Java计算两个日期之间的天数</title>
    <link href="http://yoursite.com/2017/12/14/Java%E8%AE%A1%E7%AE%97%E4%B8%A4%E4%B8%AA%E6%97%A5%E6%9C%9F%E4%B9%8B%E9%97%B4%E7%9A%84%E5%A4%A9%E6%95%B0/"/>
    <id>http://yoursite.com/2017/12/14/Java计算两个日期之间的天数/</id>
    <published>2017-12-14T14:31:21.000Z</published>
    <updated>2017-12-17T12:30:50.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Java中计算两个日期之间的天数-比如说2017-12-06与2017-12-04之间的天数差为2"><a href="#Java中计算两个日期之间的天数-比如说2017-12-06与2017-12-04之间的天数差为2" class="headerlink" title="Java中计算两个日期之间的天数,比如说2017/12/06与2017/12/04之间的天数差为2"></a>Java中计算两个日期之间的天数,比如说<strong>2017/12/06</strong>与<strong>2017/12/04</strong>之间的天数差为2</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get a diff between two dates</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> oldDate</span></span><br><span class="line"><span class="comment"> *            the old date</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> newDate</span></span><br><span class="line"><span class="comment"> *            the new date</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the diff value, in the days</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">getDateDiff</span><span class="params">(SimpleDateFormat format, String oldDate, String newDate)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">return</span> TimeUnit.DAYS.convert(</span><br><span class="line">format.parse(newDate).getTime() - format.parse(oldDate).getTime(),</span><br><span class="line">TimeUnit.MILLISECONDS);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a> <h4 id="使用方式："><a href="#使用方式：" class="headerlink" title="使用方式："></a>使用方式：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"dd/MM/yyyy"</span>);</span><br><span class="line"><span class="keyword">long</span> dateDiff = getDateDiff(sdf, <span class="string">"4/12/2017"</span>, <span class="string">"6/12/2017"</span>);</span><br><span class="line">System.out.println(<span class="string">" days diff is : "</span> + dateDiff);</span><br></pre></td></tr></table></figure><h4 id="控制台将输出"><a href="#控制台将输出" class="headerlink" title="控制台将输出:"></a>控制台将输出:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">days diff is : 2</span><br></pre></td></tr></table></figure><p>参考<a href="https://stackoverflow.com/questions/21285161/android-difference-between-two-dates" target="_blank" rel="noopener">link</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;Java中计算两个日期之间的天数-比如说2017-12-06与2017-12-04之间的天数差为2&quot;&gt;&lt;a href=&quot;#Java中计算两个日期之间的天数-比如说2017-12-06与2017-12-04之间的天数差为2&quot; class=&quot;headerlink&quot; title=&quot;Java中计算两个日期之间的天数,比如说2017/12/06与2017/12/04之间的天数差为2&quot;&gt;&lt;/a&gt;Java中计算两个日期之间的天数,比如说&lt;strong&gt;2017/12/06&lt;/strong&gt;与&lt;strong&gt;2017/12/04&lt;/strong&gt;之间的天数差为2&lt;/h4&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * Get a diff between two dates&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; oldDate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *            the old date&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; newDate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *            the new date&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; the diff value, in the days&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getDateDiff&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SimpleDateFormat format, String oldDate, String newDate)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; TimeUnit.DAYS.convert(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			format.parse(newDate).getTime() - format.parse(oldDate).getTime(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			TimeUnit.MILLISECONDS);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (Exception e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Android" scheme="http://yoursite.com/categories/Android/"/>
    
      <category term="Java" scheme="http://yoursite.com/categories/Android/Java/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>禁止WebView长按复制</title>
    <link href="http://yoursite.com/2017/12/13/%E7%A6%81%E6%AD%A2WebView%E9%95%BF%E6%8C%89%E5%A4%8D%E5%88%B6/"/>
    <id>http://yoursite.com/2017/12/13/禁止WebView长按复制/</id>
    <published>2017-12-13T15:37:03.000Z</published>
    <updated>2017-12-14T14:56:14.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Android-WebView安全相关，禁止长按复制"><a href="#Android-WebView安全相关，禁止长按复制" class="headerlink" title="Android WebView安全相关，禁止长按复制"></a>Android WebView安全相关，禁止长按复制</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 通过消费WebView的长按事件来禁止复制 */</span></span><br><span class="line">webview.setOnLongClickListener(<span class="keyword">new</span> View.OnLongClickListener() &#123;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onLongClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">             <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">         &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;Android-WebView安全相关，禁止长按复制&quot;&gt;&lt;a href=&quot;#Android-WebView安全相关，禁止长按复制&quot; class=&quot;headerlink&quot; title=&quot;Android WebView安全相关，禁止长按复制&quot;&gt;&lt;/a&gt;Android 
      
    
    </summary>
    
      <category term="Android" scheme="http://yoursite.com/categories/Android/"/>
    
      <category term="WebView" scheme="http://yoursite.com/categories/Android/WebView/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="WebView" scheme="http://yoursite.com/tags/WebView/"/>
    
  </entry>
  
  <entry>
    <title>如何使用HEXO创建博客</title>
    <link href="http://yoursite.com/2017/12/12/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8HEXO%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2017/12/12/如何使用HEXO创建博客/</id>
    <published>2017-12-12T15:37:03.000Z</published>
    <updated>2017-12-26T14:57:40.787Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><a id="more"></a> <h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p><h3 id="设置自动滚动"><a href="#设置自动滚动" class="headerlink" title="设置自动滚动"></a>设置自动滚动</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Automatically saving scroll position on each post/page in cookies.</span></span><br><span class="line">save_scroll: <span class="literal">false</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Setup" scheme="http://yoursite.com/categories/Setup/"/>
    
    
      <category term="Setup" scheme="http://yoursite.com/tags/Setup/"/>
    
  </entry>
  
</feed>
